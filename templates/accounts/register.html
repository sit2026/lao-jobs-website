{% extends 'accounts/auth_base.html' %}

{% block title %}ລົງທະບຽນນາຍຈ້າງ - Lao Jobs{% endblock %}

{% block nav_buttons %}
<a href="{% url 'accounts:login' %}" class="btn btn-nav btn-nav-outline">ເຂົ້າສູ່ລະບົບ</a>
{% endblock %}

{% block content %}
<div class="auth-card" style="max-width: 480px;">
    <!-- Header -->
    <div class="auth-header">
        <div class="auth-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <i class="fas fa-building"></i>
        </div>
        <h1 class="auth-title">ລົງທະບຽນນາຍຈ້າງ</h1>
        <p class="auth-subtitle">ເລີ່ມປະກາດວຽກຂອງທ່ານວັນນີ້ - ຟຣີ!</p>
    </div>

    <!-- Error Message -->
    {% if form.errors %}
    <div class="alert-error">
        <i class="fas fa-exclamation-circle"></i>
        ກະລຸນາແກ້ໄຂຂໍ້ຜິດພາດຂ້າງລຸ່ມ
    </div>
    {% endif %}

    <!-- Register Form -->
    <form method="POST" novalidate>
        {% csrf_token %}

        <!-- Email Field -->
        <div class="mb-3">
            <label for="id_email" class="form-label">
                ອີເມວ <span class="text-danger">*</span>
            </label>
            <div class="input-group">
                <span class="input-group-text">
                    <i class="fas fa-envelope"></i>
                </span>
                <input
                    type="email"
                    name="email"
                    id="id_email"
                    class="form-control {% if form.email.errors %}is-invalid{% endif %}"
                    placeholder="company@email.com"
                    value="{{ form.email.value|default:'' }}"
                    required
                >
            </div>
            {% if form.email.errors %}
            <div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>
            {% endif %}
        </div>

        <!-- Company Name -->
        <div class="mb-3">
            <label for="id_company_name" class="form-label">
                ຊື່ບໍລິສັດ <span class="text-danger">*</span>
            </label>
            <div class="input-group">
                <span class="input-group-text">
                    <i class="fas fa-building"></i>
                </span>
                <input
                    type="text"
                    name="company_name"
                    id="id_company_name"
                    class="form-control {% if form.company_name.errors %}is-invalid{% endif %}"
                    placeholder="ຊື່ບໍລິສັດຂອງທ່ານ"
                    value="{{ form.company_name.value|default:'' }}"
                    required
                >
            </div>
            {% if form.company_name.errors %}
            <div class="text-danger small mt-1">{{ form.company_name.errors.0 }}</div>
            {% endif %}
        </div>

        <!-- Phone Number -->
        <div class="mb-3">
            <label for="id_phone_number" class="form-label">
                ເບີໂທຕິດຕໍ່ <span class="text-danger">*</span>
            </label>
            <div class="input-group">
                <span class="input-group-text">
                    <i class="fas fa-phone"></i>
                </span>
                <input
                    type="tel"
                    name="phone_number"
                    id="id_phone_number"
                    class="form-control {% if form.phone_number.errors %}is-invalid{% endif %}"
                    placeholder="020 xxxx xxxx"
                    value="{{ form.phone_number.value|default:'' }}"
                    required
                >
            </div>
            {% if form.phone_number.errors %}
            <div class="text-danger small mt-1">{{ form.phone_number.errors.0 }}</div>
            {% endif %}
        </div>

        <!-- Password -->
        <div class="mb-3">
            <label for="id_password1" class="form-label">
                ລະຫັດຜ່ານ <span class="text-danger">*</span>
            </label>
            <div class="input-group">
                <span class="input-group-text">
                    <i class="fas fa-lock"></i>
                </span>
                <input
                    type="password"
                    name="password1"
                    id="id_password1"
                    class="form-control {% if form.password1.errors %}is-invalid{% endif %}"
                    placeholder="ຢ່າງໜ້ອຍ 8 ຕົວອັກສອນ"
                    required
                >
            </div>
            <div class="form-text small text-muted mt-1">ຢ່າງໜ້ອຍ 8 ຕົວອັກສອນ</div>
            {% if form.password1.errors %}
            <div class="text-danger small mt-1">{{ form.password1.errors.0 }}</div>
            {% endif %}
        </div>

        <!-- Confirm Password -->
        <div class="mb-3">
            <label for="id_password2" class="form-label">
                ຢືນຢັນລະຫັດຜ່ານ <span class="text-danger">*</span>
            </label>
            <div class="input-group">
                <span class="input-group-text">
                    <i class="fas fa-lock"></i>
                </span>
                <input
                    type="password"
                    name="password2"
                    id="id_password2"
                    class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
                    placeholder="ພິມລະຫັດຜ່ານອີກຄັ້ງ"
                    required
                >
            </div>
            {% if form.password2.errors %}
            <div class="text-danger small mt-1">{{ form.password2.errors.0 }}</div>
            {% endif %}
        </div>

        <!-- Terms Checkbox -->
        <div class="form-check mb-4">
            <input
                type="checkbox"
                name="agree_terms"
                id="id_agree_terms"
                class="form-check-input"
                required
            >
            <label for="id_agree_terms" class="form-check-label">
                ຂ້ອຍຍອมຮັບ <a href="#" class="auth-link">ເງື່ອນໄຂການໃຊ້ງານ</a>
            </label>
        </div>
        {% if form.agree_terms.errors %}
        <div class="text-danger small mb-3">{{ form.agree_terms.errors.0 }}</div>
        {% endif %}

        <!-- Submit Button -->
        <button type="submit" class="btn-submit" style="background: #10b981;">
            <i class="fas fa-user-plus me-2"></i>ລົງທະບຽນຟຣີ
        </button>
    </form>

    <!-- Divider -->
    <div class="divider">
        <span>ຫຼື</span>
    </div>

    <!-- Login Link -->
    <p class="text-center-muted">
        ມີບັນຊີແລ້ວ?
        <a href="{% url 'accounts:login' %}" class="auth-link">ເຂົ້າສູ່ລະບົບ</a>
    </p>
</div>
{% endblock %}
