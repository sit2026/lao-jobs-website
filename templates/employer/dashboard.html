{% extends 'base.html' %}

{% block title %}เปเปเบฒเบเบงเบเบเบธเบก - {{ SITE_NAME }}{% endblock %}

{% block content %}
<div class="container py-6">
    <h1 class="text-2xl font-bold mb-6">เบชเบฐเบเบฒเบเบเบต, {{ company.company_name }}</h1>

    <!-- Subscription Status -->
    <div class="job-card mb-6">
        {% if subscription %}
        <div class="flex items-center justify-between">
            <div>
                <span class="tag tag-new">โ เบชเบฐเบกเบฒเบเบดเบ Active</span>
                <p class="mt-2 text-secondary">
                    ๐ เปเบปเบเบญเบฒเบเบธ: {{ subscription.expires_at|date:"d/m/Y" }}
                    (เปเบซเบผเบทเบญ {{ subscription.days_remaining }} เบกเบทเป)
                </p>
            </div>
            <a href="{% url 'billing:subscription' %}" class="btn btn-secondary btn-sm">
                เบเปเปเบญเบฒเบเบธ
            </a>
        </div>
        {% else %}
        <div class="flex items-center justify-between">
            <div>
                <span class="tag tag-urgent">โ๏ธ เบเปเปเบกเบตเบชเบฐเบกเบฒเบเบดเบ</span>
                <p class="mt-2 text-secondary">
                    เบเบฐเบฅเบธเบเบฒเบชเบฐเปเบฑเบเบชเบฐเบกเบฒเบเบดเบเปเบเบทเปเบญเปเบฅเบตเปเบกเบเบฐเบเบฒเบเบงเบฝเบ
                </p>
            </div>
            <a href="{% url 'billing:choose_plan' %}" class="btn btn-primary btn-sm">
                เบชเบฐเปเบฑเบเปเบเบต
            </a>
        </div>
        {% endif %}
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
        <div class="job-card text-center">
            <div class="text-3xl font-bold text-primary">{{ published_count }}</div>
            <div class="text-sm text-tertiary">เบงเบฝเบเปเบเบตเบเปเบเป</div>
        </div>
        <div class="job-card text-center">
            <div class="text-3xl font-bold text-secondary">{{ total_views }}</div>
            <div class="text-sm text-tertiary">เบเบญเบเปเบเบดเปเบ</div>
        </div>
        <div class="job-card text-center">
            <div class="text-3xl font-bold text-yellow-500">{{ expiring_soon }}</div>
            <div class="text-sm text-tertiary">เปเบเปเปเบปเบเบญเบฒเบเบธ</div>
        </div>
        <div class="job-card text-center">
            <div class="text-3xl font-bold text-gray-500">{{ draft_count }}</div>
            <div class="text-sm text-tertiary">เบฎเปเบฒเบ</div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="grid md:grid-cols-2 gap-4 mb-6">
        <a href="{% url 'employer:job_create' %}" class="btn btn-primary btn-lg">
            โ เบเบฐเบเบฒเบเบงเบฝเบเปเปเป
        </a>
        <a href="{% url 'employer:my_jobs' %}" class="btn btn-secondary btn-lg">
            ๐ เปเบเบดเปเบเปเบเบชเบเบฑเบเปเบปเบ
        </a>
    </div>

    <!-- Recent Jobs -->
    <div class="job-card">
        <div class="section-header mb-4">
            <h2 class="section-title">เปเบเบชเบฅเปเบฒเบชเบธเบ</h2>
            <a href="{% url 'employer:my_jobs' %}" class="section-link">เปเบเบดเปเบเบเบฑเบเปเบปเบ โ</a>
        </div>

        {% for job in recent_jobs %}
        <div class="flex items-center justify-between py-3 border-b border-gray-100 last:border-0">
            <div>
                <h3 class="font-semibold">{{ job.title }}</h3>
                <div class="flex items-center gap-2 text-sm text-tertiary">
                    {% if job.status == 'published' %}
                    <span class="text-green-600">๐ข เปเบเบตเบเปเบเป</span>
                    {% elif job.status == 'draft' %}
                    <span class="text-gray-500">โช เบฎเปเบฒเบ</span>
                    {% elif job.status == 'expired' %}
                    <span class="text-red-500">๐ด เปเบปเบเบญเบฒเบเบธ</span>
                    {% endif %}
                    <span>โข ๐๏ธ {{ job.view_count }} เบเบฑเปเบ</span>
                    {% if job.days_remaining > 0 %}
                    <span>โข โฑ๏ธ {{ job.days_remaining }} เบกเบทเป</span>
                    {% endif %}
                </div>
            </div>
            <div class="flex gap-2">
                <a href="{% url 'employer:job_edit' job.id %}" class="btn btn-ghost btn-sm">โ๏ธ</a>
                <a href="{% url 'employer:job_duplicate' job.id %}" class="btn btn-ghost btn-sm" onclick="return confirm('เบชเบณเปเบเบปเบฒเปเบเบชเบเบตเป?')">๐</a>
            </div>
        </div>
        {% empty %}
        <div class="empty-state">
            <div class="empty-state-icon">๐ญ</div>
            <h3 class="empty-state-title">เบเบฑเบเบเปเปเบกเบตเปเบเบช</h3>
            <p class="empty-state-text">เปเบฅเบตเปเบกเบเบฐเบเบฒเบเบงเบฝเบเบเบญเบเบเปเบฒเบเปเบฅเบตเบ!</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
